# Database configuration
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://JOUJOU:1234@recipedb.npihwk6.mongodb.net/recipeDB?retryWrites=true&w=majority}


# Server configuration for Render
server.port=${PORT:8080}
server.forward-headers-strategy=framework
server.use-forward-headers=true

# JWT configuration
jwt.secret=${JWT_SECRET:V9BYt3P7unN2yzAMwsH5gK8D6fJqEcXr4Z7LxGhQjTkFbRdCvU3mWnS2pE9YzAq5BgK8D4fH7jLmN6P2rTvUxXyZaEcRfVgBhJkMnPqRsTuVwXyZ}

# Logging configuration
logging.level.org.springframework=INFO
logging.level.com.recipemanagement=INFO
logging.level.org.springframework.data.mongodb=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.root=DEBUG

# OpenAPI/Swagger configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.packages-to-scan=com.recipemanagement.controller
springdoc.swagger-ui.path=/swagger-ui.html

# Security configuration
spring.security.filter.dispatcher-types=REQUEST

# Spring Boot configuration
spring.main.allow-circular-references=false
spring.main.allow-bean-definition-overriding=false

# Static resources configuration
spring.web.resources.static-locations=classpath:/static/,classpath:/public/
spring.mvc.static-path-pattern=/**
spring.web.resources.add-mappings=true

# Error handling configuration
server.error.path=/error
server.error.include-message=always
server.error.include-stacktrace=on-param
server.error.include-binding-errors=always
server.error.whitelabel.enabled=false

# Actuator endpoints - Enhanced for Render
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.health.mongo.enabled=true

# Connection pool settings for MongoDB
spring.data.mongodb.options.connections-per-host=10
spring.data.mongodb.options.min-connections-per-host=5
spring.data.mongodb.options.max-wait-time=30000
spring.data.mongodb.options.connect-timeout=10000
spring.data.mongodb.options.socket-timeout=10000

# Production optimizations
spring.jpa.show-sql=false
spring.jackson.serialization.indent-output=false

